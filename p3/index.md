[【トップページへ戻る】](../)

# **共変更を予測する**

あらかじめ，[Apache POI](https://poi.apache.org/) プロジェクトのリポジトリをクローンしておこう．
ここでは作業ツリーは不要なため，bareリポジトリとしてクローンしておく．
```
$ [ -d poi.git ] || git clone --mirror https://github.com/apache/poi.git poi.git
$ ls
poi.git
```

### (1) **コミットの列挙**
Gitリポジトリ中のすべてのコミットを列挙せよ．
2025年1月現在においては，下記のようなコミット列が出力されるかもしれない．
リポジトリは日々進化しているため，結果が完全に同じになるとは限らない．
```
2c74a961a4638efebc26254e84428f018c8f5d05
76f113564fe70417fac1ff8dbb350a0b32f373c8
4ca89e156f849de0b991d98243c52e19db3c11bb
b0515e7493ce2900ff48be5e706524ecb2d3d59c
116c32137d504839b1f333d492f2221e4a6e1eb3
...
```

### (2) **コミット範囲の指定**
一部の変更だけに注目したい．現在から直近1ヶ月以内のコミットだけ列挙せよ．

### (3) **コミット・トランザクションの抽出**
特定のコミットの変更内容を確認せよ．
すなわち，与えられたコミット`C`において変更されたファイルの一覧（コミット・トランザクション）を列挙せよ．
例として，コミット`c3fd1d5731af09aeb62a48026b6437bed4f2c28f`に対する適用結果を下記と比較せよ．
```
build.gradle
build.xml
poi-excelant/build.gradle
poi-integration/build.gradle
poi-ooxml/build.gradle
```

### (4) **ターゲット履歴の抽出** 
注目するファイルに関連するコミットだけを抽出したい．
与えられたファイル`F`をトランザクションに含むようなコミットを列挙せよ．

例として，ファイル`src/ooxml/java/org/apache/poi/xssf/usermodel/XSSFCell.java`に対する適用結果を示せ．

### (5) **頻出アイテムセットの抽出**
どのファイルとどのファイルが同時に変更されやすいか，頻出する同時変更ファイルを特定してみよう．
コミット・トランザクションの集合が与えられたとき，頻出するトランザクションの部分集合を抽出する方法に頻出アイテムセットマイニングがある．
頻出アイテムセットマイニングアルゴリズムaprioriを適用し，頻出アイテムセットを抽出せよ．
パラメータとしてmin_sup=0.3を用いよ．

例として，ファイル`src/ooxml/java/org/apache/poi/xssf/usermodel/XSSFCell.java`を含むようなトランザクション集合に対する適用結果を報告せよ．

### (6) **相関ルールマイニングの実施**
どのファイルとどのファイルが同時に変更されやすいか，相関ルールマイニングを利用して特定してみよう．
トランザクションの集合が与えられたとき，相関ルール`X => Y`を抽出する方法に相関ルールマイニングがある．
`X`は前提部，`Y`は帰結部であり，「ファイル`X`が変更された場合，ファイル`Y`も変更される」と読む．
与えられたファイルを含むトランザクション群に対して相関ルールマイニングを適用し，ルールを抽出せよ．
パラメータとしてmin_sup=0.3, min_conf=0.3を用いよ．

例として，ファイル`src/ooxml/java/org/apache/poi/xssf/usermodel/XSSFCell.java`を含むようなトランザクション集合に対する適用結果を報告せよ．

### (7) **変更漏れの特定**
抽出されたルールに基づき，ファイル`src/ooxml/java/org/apache/poi/xssf/usermodel/XSSFCell.java`だけが変更された場合に，変更漏れと思われるファイルを推薦せよ．

### 解答例
[p3.ipynb](p3.ipynb)
